<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="referrer" content="no-referrer" />

    <meta name="author" content="httishere">





<title>ã€Œå¤§å‰ç«¯ã€é¢å‘å¯¹è±¡çš„JSï¼Ÿ | HTTISHERE</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.2.0"></head>
<body>
    <div class="wrapper">
        <header>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-header header-logo">
        <a href="/">HTTISHERE&#39;s Blog</a>
      </div>
      <div class="menu navbar-right">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        
        <input id="switch_default" type="checkbox" class="switch_default" />
        <label for="switch_default" class="toggleBtn"></label>
        <a
          href="javascript:;"
          rel="sidebar"
          style="margin-left: 20px;"
          onclick="addFav();"
          >ğŸŒŸ Bookmark</a
        >
      </div>
    </div>
  </nav>

  
  <nav class="navbar-mobile" id="nav-mobile">
    <div class="container">
      <div class="navbar-header">
        <div>
          <a href="/">HTTISHERE&#39;s Blog</a
          ><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
        </div>
        <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
      </div>
      <div class="menu" id="mobile-menu">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        
      </div>
    </div>
  </nav>
</header>
<script>
  var mobileBtn = function f() {
    var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
    var mobileMenu = document.getElementById("mobile-menu");
    if (toggleMenu.classList.contains("active")) {
      toggleMenu.classList.remove("active");
      mobileMenu.classList.remove("active");
    } else {
      toggleMenu.classList.add("active");
      mobileMenu.classList.add("active");
    }
  };
  function addFav() {
    var title = document.title;
    var URL = document.URL;
    try {
      window.external.addFavorite(URL, title);
    } catch (e) {
      try {
        window.sidebar.addPanel(title, URL, "");
      } catch (e) {
        alert("ç”±äºæµè§ˆå™¨çš„å®‰å…¨è®¾ç½®\nå¯ä»¥ä½¿ç”¨Ctrl+Dæˆ–è€…Command+Dè¿›è¡Œæ‰‹åŠ¨æ”¶è—");
      }
    }
  }
</script>

        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">ã€Œå¤§å‰ç«¯ã€é¢å‘å¯¹è±¡çš„JSï¼Ÿ</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">httishere</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">ä¸‰æœˆ 11, 2021&nbsp;&nbsp;14:04:26</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Javascript/">Javascript</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="é¢å¯¹å¯¹è±¡-or-åŸºäºå¯¹è±¡"><a href="#é¢å¯¹å¯¹è±¡-or-åŸºäºå¯¹è±¡" class="headerlink" title="é¢å¯¹å¯¹è±¡ or åŸºäºå¯¹è±¡"></a>é¢å¯¹å¯¹è±¡ or åŸºäºå¯¹è±¡</h2><blockquote>
<p>Objectï¼šä¸€åˆ‡äº‹ç‰©çš„æ€»ç§°ã€‚<br>åŸºäºå¯¹è±¡ï¼šè¯­è¨€å’Œå®¿ä¸»çš„åŸºç¡€è®¾æ–½ç”±å¯¹è±¡æ¥æä¾›ï¼Œå¹¶ä¸” JavaScript ç¨‹åºå³æ˜¯ä¸€ç³»åˆ—äº’ç›¸é€šè®¯çš„å¯¹è±¡é›†åˆã€‚</p>
</blockquote>
<p>å¯¹è±¡çš„ç‰¹ç‚¹ï¼ˆæ ‡è¯†æ€§ã€çŠ¶æ€å’Œè¡Œä¸ºï¼‰ï¼š</p>
<ul>
<li>å¯¹è±¡å…·æœ‰å”¯ä¸€æ ‡è¯†æ€§ï¼šå³ä½¿å®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¹¶éåŒä¸€ä¸ªå¯¹è±¡ã€‚ï¼ˆä¸€èˆ¬è€Œè¨€ï¼Œå„ç§è¯­è¨€çš„å¯¹è±¡å”¯ä¸€æ ‡è¯†æ€§éƒ½æ˜¯ç”¨å†…å­˜åœ°å€æ¥ä½“ç°çš„ï¼‰</li>
<li>å¯¹è±¡æœ‰çŠ¶æ€ï¼šå¯¹è±¡å…·æœ‰çŠ¶æ€ï¼ŒåŒä¸€å¯¹è±¡å¯èƒ½å¤„äºä¸åŒçŠ¶æ€ä¹‹ä¸‹ã€‚</li>
<li>å¯¹è±¡å…·æœ‰è¡Œä¸ºï¼šå³å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯èƒ½å› ä¸ºå®ƒçš„è¡Œä¸ºäº§ç”Ÿå˜è¿ã€‚</li>
</ul>
<p><strong>JavaScript ä¸­å¯¹è±¡ç‹¬æœ‰çš„ç‰¹è‰²æ˜¯ï¼šå¯¹è±¡å…·æœ‰é«˜åº¦çš„åŠ¨æ€æ€§ï¼Œè¿™æ˜¯å› ä¸º JavaScript èµ‹äºˆäº†ä½¿ç”¨è€…åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ·»æ”¹çŠ¶æ€å’Œè¡Œä¸ºçš„èƒ½åŠ›ã€‚</strong></p>
<h3 id="æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ï¼ˆgetter-setterï¼‰"><a href="#æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ï¼ˆgetter-setterï¼‰" class="headerlink" title="æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ï¼ˆgetter/setterï¼‰"></a>æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ï¼ˆgetter/setterï¼‰</h3><h4 id="æ•°æ®å±æ€§"><a href="#æ•°æ®å±æ€§" class="headerlink" title="æ•°æ®å±æ€§"></a>æ•°æ®å±æ€§</h4><ul>
<li>valueï¼šå°±æ˜¯å±æ€§çš„å€¼ã€‚</li>
<li>writableï¼šå†³å®šå±æ€§èƒ½å¦è¢«èµ‹å€¼ã€‚</li>
<li>enumerableï¼šå†³å®š for in èƒ½å¦æšä¸¾è¯¥å±æ€§ã€‚</li>
<li>configurableï¼šå†³å®šè¯¥å±æ€§èƒ½å¦è¢«åˆ é™¤æˆ–è€…æ”¹å˜ç‰¹å¾å€¼ã€‚</li>
</ul>
<h4 id="è®¿é—®å™¨"><a href="#è®¿é—®å™¨" class="headerlink" title="è®¿é—®å™¨"></a>è®¿é—®å™¨</h4><ul>
<li>getterï¼šå‡½æ•°æˆ– undefinedï¼Œåœ¨å–å±æ€§å€¼æ—¶è¢«è°ƒç”¨ã€‚</li>
<li>setterï¼šå‡½æ•°æˆ– undefinedï¼Œåœ¨è®¾ç½®å±æ€§å€¼æ—¶è¢«è°ƒç”¨ã€‚</li>
<li>enumerableï¼šå†³å®š for in èƒ½å¦æšä¸¾è¯¥å±æ€§ã€‚</li>
<li>configurableï¼šå†³å®šè¯¥å±æ€§èƒ½å¦è¢«åˆ é™¤æˆ–è€…æ”¹å˜ç‰¹å¾å€¼ã€‚</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°<code>getOwnPropertyDescriptor</code>æ¥æŸ¥çœ‹å±æ€§ç‰¹å¾ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line">o.b = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// aå’Œbçš†ä¸ºæ•°æ®å±æ€§</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;value: 1, writable: true, enumerable: true, configurable: true&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;value: 2, writable: true, enumerable: true, configurable: true&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Object.defineProperty</code>æ”¹å˜å±æ€§ç‰¹å¾æˆ–è€…è‡ªå®šä¹‰è®¿é—®å™¨å±æ€§ï¼ˆ<strong>ä¸ Vue çš„åŒå‘ç»‘å®šå®ç°åŸç†ç›¸å…³</strong>ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">&quot;b&quot;</span>, &#123;</span><br><span class="line">  value: <span class="number">2</span>,</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//aå’Œbéƒ½æ˜¯æ•°æ®å±æ€§ï¼Œä½†ç‰¹å¾å€¼å˜åŒ–äº†</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;value: 1, writable: true, enumerable: true, configurable: true&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;value: 2, writable: false, enumerable: false, configurable: true&#125;</span></span><br><span class="line">o.b = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o.b); <span class="comment">// 2ï¼Œä¸èƒ½è¢«é‡æ–°èµ‹å€¼</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ get å’Œ set å…³é”®å­—æ¥åˆ›å»ºè®¿é—®å™¨å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">a</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o.a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p><strong>JavaScript å¯¹è±¡çš„å…·ä½“è®¾è®¡ï¼šå…·æœ‰é«˜åº¦åŠ¨æ€æ€§çš„å±æ€§é›†åˆã€‚</strong></p>
<p>é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªç‰¹å¾ï¼Œå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ã€‚</p>
<p>å¯¹äºé¢å‘å¯¹è±¡çš„æ€è€ƒè¿˜éœ€è¦å­¦ä¹ å¾ˆå¤šï¼ï¼ï¼</p>
<h3 id="ç»“è¯­ï¼š"><a href="#ç»“è¯­ï¼š" class="headerlink" title="ç»“è¯­ï¼š"></a>ç»“è¯­ï¼š</h3><p>JavaScript æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œä½†æ˜¯åˆå’Œä¸»æµçš„é¢å‘å¯¹è±¡ä¸åŒï¼Œæœ€ä¸»è¦çš„åŒºåˆ«åœ¨äº JS å…·æœ‰é«˜åº¦åŠ¨æ€æ€§ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶å¯¹å¯¹è±¡è¿›è¡Œå±æ€§çš„æ·»åŠ å’Œæ›´æ”¹ã€‚</p>
<h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p>JS æ˜¯åŸºäºåŸå‹æ¥æè¿°å¯¹è±¡ï¼Œä¸åŒäºå…¶ä»–åŸºäºç±»çš„ç¼–ç¨‹è¯­è¨€ï¼Œâ€œåŸºäºåŸå‹â€çš„ç¼–ç¨‹çœ‹èµ·æ¥æ›´ä¸ºæå€¡ç¨‹åºå‘˜å»å…³æ³¨ä¸€ç³»åˆ—<strong>å¯¹è±¡å®ä¾‹çš„è¡Œä¸º</strong>ï¼Œè€Œåæ‰å»å…³å¿ƒå¦‚ä½•å°†è¿™äº›å¯¹è±¡ï¼Œåˆ’åˆ†åˆ°æœ€è¿‘çš„ä½¿ç”¨æ–¹å¼ç›¸ä¼¼çš„åŸå‹å¯¹è±¡ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬åˆ†æˆç±»ï¼ˆç†è§£â€œåŸºäºåŸå‹â€çš„ç¼–ç¨‹æ€æƒ³æ˜¯æ·±å…¥ç†è§£ JavaScript çš„å…³é”®æ‰€åœ¨â€“åŸå‹ï¼šä¸€ç³»åˆ—å¯¹è±¡è¡Œä¸ºçš„é›†åˆï¼ŒåŸå‹æ›´å¼ºè°ƒçš„æ˜¯è¡Œä¸ºï¼‰ã€‚</p>
<p>åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡ç³»ç»Ÿé€šè¿‡â€œå¤åˆ¶â€çš„æ–¹å¼æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶ä¸çœŸçš„å»å¤åˆ¶ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œè€Œæ˜¯ä½¿å¾—æ–°å¯¹è±¡æŒæœ‰ä¸€ä¸ª<strong>åŸå‹çš„å¼•ç”¨</strong>ã€‚</p>
<ul>
<li>æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ç§æœ‰å­—æ®µ[[prototype]]ï¼Œå°±æ˜¯å¯¹è±¡çš„åŸå‹</li>
<li>è®¿é—®æŸä¸ªå±æ€§æ—¶ï¼Œå¦‚æœå®ä¾‹å¯¹è±¡æœ¬èº«æ²¡æœ‰ï¼Œåˆ™ä¼šç»§ç»­è®¿é—®å¯¹è±¡çš„åŸå‹ï¼Œç›´åˆ°åŸå‹ä¸ºç©ºæˆ–è€…æ‰¾åˆ°ä¸ºæ­¢</li>
</ul>
<p>ES6 æä¾›äº†ä¸€ç³»åˆ—å†…ç½®å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è®¿é—®æ“çºµåŸå‹ï¼š</p>
<ul>
<li>Object.create æ ¹æ®æŒ‡å®šçš„åŸå‹åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹å¯ä»¥æ˜¯ nullï¼›</li>
<li>Object.getPrototypeOf è·å¾—ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼›</li>
<li>Object.setPrototypeOf è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">  <span class="function"><span class="title">say</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;meow~&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">jump</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;jump&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tiger = <span class="built_in">Object</span>.create(cat, &#123;</span><br><span class="line">  say: &#123;</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;roar!&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> anotherCat = <span class="built_in">Object</span>.create(cat);</span><br><span class="line"></span><br><span class="line">anotherCat.say(); <span class="comment">// meow~</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> anotherTiger = <span class="built_in">Object</span>.create(tiger);</span><br><span class="line"></span><br><span class="line">anotherTiger.say(); <span class="comment">// roar!</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨ anotherTiger ä¸Šæƒ³è¦è®¿é—®å…¶åŸå‹çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Object.getPrototypeOf</code>æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getPrototypeOf(<span class="built_in">Object</span>.getPrototypeOf(anotherTiger)).say(); <span class="comment">// meow~</span></span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰ Object.prototype.toString çš„è¡Œä¸ºï¼Œä»¥ä¸‹ä»£ç å±•ç¤ºäº†ä½¿ç”¨ Symbol.toStringTag æ¥è‡ªå®šä¹‰ Object.prototype.toString çš„è¡Œä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line">o + <span class="string">&quot;&quot;</span>; <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line">o[<span class="built_in">Symbol</span>.toStringTag] = <span class="string">&quot;MyObject&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o + <span class="string">&quot;&quot;</span>); <span class="comment">// &quot;[object MyObject]&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>new</code>è¿ç®—æ¥å—ä¸€ä¸ªæ„é€ å™¨å’Œä¸€ç»„è°ƒç”¨å‚æ•°ï¼Œå®é™…ä¸Šåšäº†å‡ ä»¶äº‹ï¼š</p>
<ul>
<li>ä»¥æ„é€ å™¨çš„ prototype å±æ€§ï¼ˆæ³¨æ„ä¸ç§æœ‰å­—æ®µ[[prototype]]çš„åŒºåˆ†ï¼‰ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡ï¼›</li>
<li>å°† this å’Œè°ƒç”¨å‚æ•°ä¼ ç»™æ„é€ å™¨ï¼Œæ‰§è¡Œï¼ˆ<code>Constructor.apply(obj, arguments)</code>ï¼‰ï¼›</li>
<li>å¦‚æœæ„é€ å™¨è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
</ul>
<p>new æ„é€ å™¨çš„ä¸¤ç§æ–¹å¼ï¼šä¸€æ˜¯åœ¨æ„é€ å™¨ä¸­æ·»åŠ å±æ€§ï¼ŒäºŒæ˜¯åœ¨æ„é€ å™¨çš„ prototype å±æ€§ä¸Šæ·»åŠ å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥åœ¨æ„é€ å™¨ä¸­ä¿®æ”¹ thisï¼Œç»™ this æ·»åŠ å±æ€§ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.p1 = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">this</span>.p2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.p1);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o1 = <span class="keyword">new</span> c1();</span><br><span class="line">o1.p2();</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(o1); <span class="comment">// &#123;constructor: Æ’&#125;ï¼Œå®é™…æ·»åŠ çš„æ˜¯thisçš„å±æ€§éåŸå‹å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ„é€ å™¨çš„ prototype å±æ€§æŒ‡å‘çš„å¯¹è±¡ï¼Œå®ƒæ˜¯ä»è¿™ä¸ªæ„é€ å™¨æ„é€ å‡ºæ¥çš„æ‰€æœ‰å¯¹è±¡çš„åŸå‹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c2</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">c2.prototype.p1 = <span class="number">1</span>;</span><br><span class="line">c2.prototype.p2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.p1);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o2 = <span class="keyword">new</span> c2();</span><br><span class="line">o2.p2();</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(o2); <span class="comment">// &#123;p1: 1, p2: Æ’, constructor: Æ’&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="ES6-ä¸­çš„ç±»"><a href="#ES6-ä¸­çš„ç±»" class="headerlink" title="ES6 ä¸­çš„ç±»"></a>ES6 ä¸­çš„ç±»</h3><p>åœ¨æ ‡å‡†ä¸­åˆ é™¤äº†æ‰€æœ‰[[class]]ç›¸å…³çš„ç§æœ‰å±æ€§æè¿°ï¼Œç±»çš„æ¦‚å¿µæ­£å¼ä»å±æ€§å‡çº§æˆè¯­è¨€çš„åŸºç¡€è®¾æ–½ï¼Œä»æ­¤ï¼ŒåŸºäºç±»çš„ç¼–ç¨‹æ–¹å¼æˆä¸ºäº† JavaScript çš„å®˜æ–¹ç¼–ç¨‹èŒƒå¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">height, width</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸å»ºè®®å°†æ•°æ®å±æ€§å®šä¹‰åœ¨æ„é€ å™¨å¤–</span></span><br><span class="line">    <span class="built_in">this</span>.height = height;</span><br><span class="line">    <span class="built_in">this</span>.width = width;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Getter</span></span><br><span class="line">  <span class="keyword">get</span> <span class="title">area</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.calcArea();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Method</span></span><br><span class="line">  <span class="function"><span class="title">calcArea</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.height * <span class="built_in">this</span>.width;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¸­å®šä¹‰çš„æ–¹æ³•å’Œå±æ€§ä¼šè¢«å†™åœ¨åŸå‹å¯¹è±¡ä¹‹ä¸Šã€‚</p>
<h4 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">speak</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot; makes a noise.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(name); <span class="comment">// call the super class constructor and pass in the name parameter</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨çˆ¶ç±»å…·æœ‰ç›¸åŒå½¢å‚çš„æ„é€ æ–¹æ³•ï¼Œsuper()ç›¸å½“äºParent.prototype.constructor.call(this)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">speak</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot; barks.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> Dog(<span class="string">&quot;Mitzie&quot;</span>);</span><br><span class="line">d.speak(); <span class="comment">// Mitzie barks.</span></span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ä½¿ç”¨ç±»çš„æ€æƒ³æ¥è®¾è®¡ä»£ç æ—¶ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨ class æ¥å£°æ˜ç±»ï¼Œè€Œä¸æ˜¯ç”¨æ—§è¯­æ³•ï¼Œæ‹¿å‡½æ•°æ¥æ¨¡æ‹Ÿå¯¹è±¡ï¼ˆè§„èŒƒä»£ç ï¼‰ã€‚</p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>ç†è§£è¿è¡Œæ—¶çš„åŸå‹ç³»ç»Ÿéƒ½æ˜¯å¾ˆæœ‰å¿…è¦çš„ä¸€ä»¶äº‹ã€‚</p>
<p>prototype å±æ€§å’Œç§æœ‰å­—æ®µ[prototype]çš„åŒºåˆ«ï¼Ÿ</p>
<p><a target="_blank" rel="noopener" href="https://time.geekbang.org/column/article/79539">https://time.geekbang.org/column/article/79539</a> è¿˜éœ€ç»§ç»­åŠ æ²¹ï¼ï¼ï¼</p>
<h2 id="å¯¹è±¡åˆ†ç±»"><a href="#å¯¹è±¡åˆ†ç±»" class="headerlink" title="å¯¹è±¡åˆ†ç±»"></a>å¯¹è±¡åˆ†ç±»</h2><p>JavaScript çš„å¯¹è±¡æœºåˆ¶å¹¶éç®€å•çš„å±æ€§é›†åˆ + åŸå‹ï¼Œå°±æ˜¯ JS çš„å¯¹è±¡æœºåˆ¶å¹¶éåªæœ‰å±æ€§é›†åˆå’ŒåŸå‹ã€‚</p>
<ul>
<li>å®¿ä¸»å¯¹è±¡ï¼ˆhost Objectsï¼‰ï¼šç”± JavaScript å®¿ä¸»ç¯å¢ƒæä¾›çš„å¯¹è±¡ï¼Œå®ƒä»¬çš„è¡Œä¸ºå®Œå…¨ç”±å®¿ä¸»ç¯å¢ƒå†³å®šã€‚</li>
<li>å†…ç½®å¯¹è±¡ï¼ˆBuilt-in Objectsï¼‰ï¼šç”± JavaScript è¯­è¨€æä¾›çš„å¯¹è±¡ã€‚<ul>
<li>å›ºæœ‰å¯¹è±¡ï¼ˆIntrinsic Objects ï¼‰ï¼šç”±æ ‡å‡†è§„å®šï¼Œéšç€ JavaScript è¿è¡Œæ—¶åˆ›å»ºè€Œè‡ªåŠ¨åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚</li>
<li>åŸç”Ÿå¯¹è±¡ï¼ˆNative Objectsï¼‰ï¼šå¯ä»¥ç”±ç”¨æˆ·é€šè¿‡ Arrayã€RegExp ç­‰å†…ç½®æ„é€ å™¨æˆ–è€…ç‰¹æ®Šè¯­æ³•åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
<li>æ™®é€šå¯¹è±¡ï¼ˆOrdinary Objectsï¼‰ï¼šç”±{}è¯­æ³•ã€Object æ„é€ å™¨æˆ–è€… class å…³é”®å­—å®šä¹‰ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œå®ƒèƒ½å¤Ÿè¢«åŸå‹ç»§æ‰¿ã€‚</li>
</ul>
</li>
</ul>
<h3 id="å®¿ä¸»å¯¹è±¡"><a href="#å®¿ä¸»å¯¹è±¡" class="headerlink" title="å®¿ä¸»å¯¹è±¡"></a>å®¿ä¸»å¯¹è±¡</h3><p>æœ€ç»å…¸çš„å°±æ˜¯ windowï¼Œwindow ä¸Šåˆæœ‰å¾ˆå¤šå±æ€§ï¼Œå¦‚ documentã€‚</p>
<p>å…¨å±€å¯¹è±¡ window ä¸Šçš„å±æ€§ï¼Œä¸€éƒ¨åˆ†æ¥è‡ª JavaScript è¯­è¨€ï¼Œä¸€éƒ¨åˆ†æ¥è‡ªæµè§ˆå™¨ç¯å¢ƒã€‚</p>
<h3 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h3><h4 id="å›ºæœ‰å¯¹è±¡"><a href="#å›ºæœ‰å¯¹è±¡" class="headerlink" title="å›ºæœ‰å¯¹è±¡"></a>å›ºæœ‰å¯¹è±¡</h4><p>éšç€ JavaScript è¿è¡Œæ—¶åˆ›å»ºè€Œè‡ªåŠ¨åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ï¼Œç±»ä¼¼åŸºç¡€åº“çš„è§’è‰²ã€‚æˆ‘ä»¬å‰é¢æåˆ°çš„â€œç±»â€å…¶å®å°±æ˜¯å›ºæœ‰å¯¹è±¡çš„ä¸€ç§ã€‚</p>
<h4 id="åŸç”Ÿå¯¹è±¡"><a href="#åŸç”Ÿå¯¹è±¡" class="headerlink" title="åŸç”Ÿå¯¹è±¡"></a>åŸç”Ÿå¯¹è±¡</h4><p>èƒ½å¤Ÿé€šè¿‡è¯­è¨€æœ¬èº«çš„æ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸºæœ¬å¦‚ä¸‹ï¼š</p>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/250093/1615442679231-3f4e7505-8b6f-4e26-815b-d91776d7f090.png#align=left&display=inline&height=375&margin=%5Bobject%20Object%5D&originHeight=375&originWidth=988&size=0&status=done&style=none&width=988"></p>
<p>å‡ ä¹æ‰€æœ‰è¿™äº›æ„é€ å™¨çš„èƒ½åŠ›éƒ½æ˜¯æ— æ³•ç”¨çº¯ JavaScript ä»£ç å®ç°çš„ï¼Œå®ƒä»¬ä¹Ÿæ— æ³•ç”¨ class/extend è¯­æ³•æ¥ç»§æ‰¿ã€‚</p>
<h4 id="ï¼ˆè¿™éƒ¨åˆ†éœ€è¦ç ”ç©¶ç ”ç©¶ï¼ï¼ï¼‰ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿå‡½æ•°ä¸æ„é€ å™¨ï¼šå‡½æ•°å¯¹è±¡ä¸æ„é€ å™¨å¯¹è±¡"><a href="#ï¼ˆè¿™éƒ¨åˆ†éœ€è¦ç ”ç©¶ç ”ç©¶ï¼ï¼ï¼‰ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿå‡½æ•°ä¸æ„é€ å™¨ï¼šå‡½æ•°å¯¹è±¡ä¸æ„é€ å™¨å¯¹è±¡" class="headerlink" title="ï¼ˆè¿™éƒ¨åˆ†éœ€è¦ç ”ç©¶ç ”ç©¶ï¼ï¼ï¼‰ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿå‡½æ•°ä¸æ„é€ å™¨ï¼šå‡½æ•°å¯¹è±¡ä¸æ„é€ å™¨å¯¹è±¡"></a>ï¼ˆè¿™éƒ¨åˆ†éœ€è¦ç ”ç©¶ç ”ç©¶ï¼ï¼ï¼‰ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿå‡½æ•°ä¸æ„é€ å™¨ï¼šå‡½æ•°å¯¹è±¡ä¸æ„é€ å™¨å¯¹è±¡</h4><ul>
<li>å‡½æ•°å¯¹è±¡çš„å®šä¹‰æ˜¯ï¼šå…·æœ‰[[call]]ç§æœ‰å­—æ®µçš„å¯¹è±¡ï¼›</li>
<li>æ„é€ å™¨å¯¹è±¡çš„å®šä¹‰æ˜¯ï¼šå…·æœ‰ç§æœ‰å­—æ®µ[[construct]]çš„å¯¹è±¡ã€‚</li>
</ul>
<p>JavaScript ç”¨å¯¹è±¡æ¨¡æ‹Ÿå‡½æ•°çš„è®¾è®¡ä»£æ›¿äº†ä¸€èˆ¬ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥åƒå…¶å®ƒè¯­è¨€çš„å‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ã€ä¼ å‚ã€‚ä»»ä½•å®¿ä¸»åªè¦æä¾›äº†â€œå…·æœ‰[[call]]ç§æœ‰å­—æ®µçš„å¯¹è±¡â€ï¼Œå°±å¯ä»¥è¢« JavaScript å‡½æ•°è°ƒç”¨è¯­æ³•æ”¯æŒã€‚</p>
<p>ä»»ä½•å¯¹è±¡åªéœ€è¦å®ç°[[call]]ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå¯ä»¥å»ä½œä¸ºå‡½æ•°è¢«è°ƒç”¨ï¼ˆå‡½æ•°æ˜¯ä¸€ç±»æ‹¥æœ‰[call] å±æ€§çš„å¯¹è±¡ è‡³äº call çš„å®ç°ä¸è¡Œä¸ºæ˜¯å¼•æ“å±‚é¢å†³å®šçš„ï¼‰ã€‚</p>
<p><strong>å¯¹äºå®¿ä¸»å’Œå†…ç½®å¯¹è±¡æ¥è¯´ï¼Œå®ƒä»¬å®ç°[[call]]ï¼ˆä½œä¸ºå‡½æ•°è¢«è°ƒç”¨ï¼‰å’Œ[[construct]]ï¼ˆä½œä¸ºæ„é€ å™¨è¢«è°ƒç”¨ï¼‰ä¸æ€»æ˜¯ä¸€è‡´çš„</strong>ã€‚æ¯”å¦‚å†…ç½®å¯¹è±¡ Date åœ¨ä½œä¸ºæ„é€ å™¨è°ƒç”¨æ—¶äº§ç”Ÿæ–°çš„å¯¹è±¡ï¼Œä½œä¸ºå‡½æ•°æ—¶ï¼Œåˆ™äº§ç”Ÿå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// Mon Mar 08 2021 23:16:53 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) (å¯¹è±¡)</span></span><br><span class="line"><span class="built_in">Date</span>(); <span class="comment">// &quot;Mon Mar 08 2021 23:17:01 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&quot; (å­—ç¬¦ä¸²)</span></span><br></pre></td></tr></table></figure>

<p>_ç›¸å…³_ï¼šã€é¢è¯•é¢˜ã€‘ä¸ºå•¥ new date( ) å’Œ date( ) è¡¨ç°ä¸ä¸€è‡´ï¼Ÿ</p>
<p>åœ¨ ES6 ä¹‹å =&gt; è¯­æ³•åˆ›å»ºçš„å‡½æ•°ä»…ä»…æ˜¯å‡½æ•°ï¼Œå®ƒä»¬æ— æ³•è¢«å½“ä½œæ„é€ å™¨ä½¿ç”¨ã€‚</p>
<p>å¯¹äºç”¨æˆ·ä½¿ç”¨ function è¯­æ³•æˆ–è€… Function æ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡æ¥è¯´ï¼Œ[[call]]å’Œ[[construct]]è¡Œä¸ºæ€»æ˜¯ç›¸ä¼¼çš„ï¼Œå®ƒä»¬æ‰§è¡ŒåŒä¸€æ®µä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> v = f(); <span class="comment">// æŠŠfä½œä¸ºå‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> f(); <span class="comment">// æŠŠfä½œä¸ºæ„é€ å™¨è°ƒç”¨</span></span><br></pre></td></tr></table></figure>

<p><strong>[[construct]]çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹</strong>ï¼š</p>
<ul>
<li>ä»¥ Object.prototype ä¸ºåŸå‹åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼›</li>
<li>ä»¥æ–°å¯¹è±¡ä¸º thisï¼Œæ‰§è¡Œå‡½æ•°çš„[[call]]ï¼›</li>
<li>å¦‚æœ[[call]]çš„è¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆï¼Œè¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€æ­¥åˆ›å»ºçš„æ–°å¯¹è±¡ã€‚</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬çš„æ„é€ å™¨<strong>è¿”å›äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡</strong>ï¼Œé‚£ä¹ˆ new åˆ›å»ºçš„æ–°å¯¹è±¡å°±å˜æˆäº†ä¸€ä¸ªæ„é€ å‡½æ•°ä¹‹å¤–å®Œå…¨æ— æ³•è®¿é—®çš„å¯¹è±¡ï¼Œè¿™ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å®ç°â€œç§æœ‰â€ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.a = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    getValue: <span class="function">() =&gt;</span> <span class="built_in">this</span>.a,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> cls(); <span class="comment">// ç›¸å½“äº var a = &#123;getValue: () =&gt; this.a&#125;ï¼Œè¿™é‡Œçš„thisæŒ‡å‘cls</span></span><br><span class="line">o.getValue(); <span class="comment">//100</span></span><br><span class="line">o.a; <span class="comment">// undefined</span></span><br><span class="line"><span class="comment">//aåœ¨å¤–é¢æ°¸è¿œæ— æ³•è®¿é—®åˆ°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.a = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">getValue</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.a;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oo = <span class="keyword">new</span> cls2();</span><br><span class="line">oo.getValue();</span><br><span class="line"><span class="comment">// undefinedï¼Œè¿™é‡Œå°±æ˜¯å’Œthisç›¸å…³äº†ï¼Œæ­¤æ—¶getValueå†…çš„thisæŒ‡å‘ooï¼Œä½†æ˜¯ooå¹¶æ²¡æœ‰aå±æ€§ï¼Œæ‰€ä»¥æ­¤æ—¶this.aä¸ºundefined</span></span><br></pre></td></tr></table></figure>

<h3 id="ç‰¹æ®Šè¡Œä¸ºå¯¹è±¡"><a href="#ç‰¹æ®Šè¡Œä¸ºå¯¹è±¡" class="headerlink" title="ç‰¹æ®Šè¡Œä¸ºå¯¹è±¡"></a>ç‰¹æ®Šè¡Œä¸ºå¯¹è±¡</h3><ul>
<li>Arrayï¼šArray çš„ length å±æ€§æ ¹æ®æœ€å¤§çš„ä¸‹æ ‡è‡ªåŠ¨å‘ç”Ÿå˜åŒ–ã€‚</li>
<li>Object.prototypeï¼šä½œä¸ºæ‰€æœ‰æ­£å¸¸å¯¹è±¡çš„é»˜è®¤åŸå‹ï¼Œä¸èƒ½å†ç»™å®ƒè®¾ç½®åŸå‹äº†ã€‚</li>
<li>Stringï¼šä¸ºäº†æ”¯æŒä¸‹æ ‡è¿ç®—ï¼ŒString çš„æ­£æ•´æ•°å±æ€§è®¿é—®ä¼šå»å­—ç¬¦ä¸²é‡ŒæŸ¥æ‰¾ã€‚</li>
<li>Argumentsï¼šarguments çš„éè´Ÿæ•´æ•°å‹ä¸‹æ ‡å±æ€§è·Ÿå¯¹åº”çš„å˜é‡è”åŠ¨ã€‚</li>
<li>æ¨¡å—çš„ namespace å¯¹è±¡ï¼šç‰¹æ®Šçš„åœ°æ–¹éå¸¸å¤šï¼Œè·Ÿä¸€èˆ¬å¯¹è±¡å®Œå…¨ä¸ä¸€æ ·ï¼Œå°½é‡åªç”¨äº import å§ã€‚</li>
<li>ç±»å‹æ•°ç»„å’Œæ•°ç»„ç¼“å†²åŒºï¼šè·Ÿå†…å­˜å—ç›¸å…³è”ï¼Œä¸‹æ ‡è¿ç®—æ¯”è¾ƒç‰¹æ®Šã€‚</li>
<li>bind åçš„ functionï¼šè·ŸåŸæ¥çš„å‡½æ•°ç›¸å…³è”ã€‚</li>
</ul>
<h3 id="ä¸ä½¿ç”¨-new-å…³é”®å­—è·å¾—å¯¹è±¡"><a href="#ä¸ä½¿ç”¨-new-å…³é”®å­—è·å¾—å¯¹è±¡" class="headerlink" title="ä¸ä½¿ç”¨ new å…³é”®å­—è·å¾—å¯¹è±¡"></a>ä¸ä½¿ç”¨ new å…³é”®å­—è·å¾—å¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;,</span><br><span class="line">  oo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">// 1. åˆ©ç”¨å­—é¢é‡</span></span><br><span class="line"><span class="keyword">var</span> a = [],</span><br><span class="line">  b = &#123;&#125;,</span><br><span class="line">  c = <span class="regexp">/abc/g</span>;</span><br><span class="line"><span class="comment">// 2. åˆ©ç”¨dom api</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="comment">// 3. åˆ©ç”¨JavaScriptå†…ç½®å¯¹è±¡çš„api</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">var</span> f = <span class="built_in">Object</span>.assign(&#123; <span class="attr">k1</span>: <span class="number">3</span>, <span class="attr">k2</span>: <span class="number">8</span> &#125;, &#123; <span class="attr">k3</span>: <span class="number">9</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> g = <span class="built_in">JSON</span>.parse(<span class="string">&quot;&#123;&#125;&quot;</span>);</span><br><span class="line"><span class="comment">// 4.åˆ©ç”¨è£…ç®±è½¬æ¢</span></span><br><span class="line"><span class="keyword">var</span> h = <span class="built_in">Object</span>(<span class="literal">undefined</span>),</span><br><span class="line">  i = <span class="built_in">Object</span>(<span class="literal">null</span>),</span><br><span class="line">  k = <span class="built_in">Object</span>(<span class="number">1</span>),</span><br><span class="line">  l = <span class="built_in">Object</span>(<span class="string">&quot;abc&quot;</span>),</span><br><span class="line">  m = <span class="built_in">Object</span>(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<h3 id="è·å–æ‰€æœ‰å›ºæœ‰å¯¹è±¡"><a href="#è·å–æ‰€æœ‰å›ºæœ‰å¯¹è±¡" class="headerlink" title="è·å–æ‰€æœ‰å›ºæœ‰å¯¹è±¡"></a>è·å–æ‰€æœ‰å›ºæœ‰å¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">var</span> objects = [</span><br><span class="line">  <span class="built_in">eval</span>,</span><br><span class="line">  <span class="built_in">isFinite</span>,</span><br><span class="line">  <span class="built_in">isNaN</span>,</span><br><span class="line">  <span class="built_in">parseFloat</span>,</span><br><span class="line">  <span class="built_in">parseInt</span>,</span><br><span class="line">  <span class="built_in">decodeURI</span>,</span><br><span class="line">  <span class="built_in">decodeURIComponent</span>,</span><br><span class="line">  <span class="built_in">encodeURI</span>,</span><br><span class="line">  <span class="built_in">encodeURIComponent</span>,</span><br><span class="line">  <span class="built_in">Array</span>,</span><br><span class="line">  <span class="built_in">Date</span>,</span><br><span class="line">  <span class="built_in">RegExp</span>,</span><br><span class="line">  <span class="built_in">Promise</span>,</span><br><span class="line">  <span class="built_in">Proxy</span>,</span><br><span class="line">  <span class="built_in">Map</span>,</span><br><span class="line">  <span class="built_in">WeakMap</span>,</span><br><span class="line">  <span class="built_in">Set</span>,</span><br><span class="line">  <span class="built_in">WeakSet</span>,</span><br><span class="line">  <span class="built_in">Function</span>,</span><br><span class="line">  <span class="built_in">Boolean</span>,</span><br><span class="line">  <span class="built_in">String</span>,</span><br><span class="line">  <span class="built_in">Number</span>,</span><br><span class="line">  <span class="built_in">Symbol</span>,</span><br><span class="line">  <span class="built_in">Object</span>,</span><br><span class="line">  <span class="built_in">Error</span>,</span><br><span class="line">  <span class="built_in">EvalError</span>,</span><br><span class="line">  <span class="built_in">RangeError</span>,</span><br><span class="line">  <span class="built_in">ReferenceError</span>,</span><br><span class="line">  <span class="built_in">SyntaxError</span>,</span><br><span class="line">  <span class="built_in">TypeError</span>,</span><br><span class="line">  <span class="built_in">URIError</span>,</span><br><span class="line">  <span class="built_in">ArrayBuffer</span>,</span><br><span class="line">  SharedArrayBuffer,</span><br><span class="line">  <span class="built_in">DataView</span>,</span><br><span class="line">  <span class="built_in">Float32Array</span>,</span><br><span class="line">  <span class="built_in">Float64Array</span>,</span><br><span class="line">  <span class="built_in">Int8Array</span>,</span><br><span class="line">  <span class="built_in">Int16Array</span>,</span><br><span class="line">  <span class="built_in">Int32Array</span>,</span><br><span class="line">  <span class="built_in">Uint8Array</span>,</span><br><span class="line">  <span class="built_in">Uint16Array</span>,</span><br><span class="line">  <span class="built_in">Uint32Array</span>,</span><br><span class="line">  <span class="built_in">Uint8ClampedArray</span>,</span><br><span class="line">  Atomics,</span><br><span class="line">  <span class="built_in">JSON</span>,</span><br><span class="line">  <span class="built_in">Math</span>,</span><br><span class="line">  <span class="built_in">Reflect</span>,</span><br><span class="line">];</span><br><span class="line">objects.forEach(<span class="function">(<span class="params">o</span>) =&gt;</span> set.add(o));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; objects.length; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> o = objects[i];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> p <span class="keyword">of</span> <span class="built_in">Object</span>.getOwnPropertyNames(o)) &#123;</span><br><span class="line">    <span class="keyword">var</span> d = <span class="built_in">Object</span>.getOwnPropertyDescriptor(o, p);</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      (d.value !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> d.value === <span class="string">&quot;object&quot;</span>) ||</span><br><span class="line">      <span class="keyword">typeof</span> d.value === <span class="string">&quot;function&quot;</span></span><br><span class="line">    )</span><br><span class="line">      <span class="keyword">if</span> (!set.has(d.value)) set.add(d.value), objects.push(d.value);</span><br><span class="line">    <span class="keyword">if</span> (d.get) <span class="keyword">if</span> (!set.has(d.get)) set.add(d.get), objects.push(d.get);</span><br><span class="line">    <span class="keyword">if</span> (d.set) <span class="keyword">if</span> (!set.has(d.set)) set.add(d.set), objects.push(d.set);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>httishere</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://httishere.github.io/2021/03/11/yuque/%E3%80%8C%E5%A4%A7%E5%89%8D%E7%AB%AF%E3%80%8D%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84JS%EF%BC%9F/">https://httishere.github.io/2021/03/11/yuque/%E3%80%8C%E5%A4%A7%E5%89%8D%E7%AB%AF%E3%80%8D%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84JS%EF%BC%9F/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2021 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/js/"># js</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/03/11/yuque/%E3%80%8C%E5%A4%A7%E5%89%8D%E7%AB%AF%E3%80%8D%E8%AF%AD%E5%8F%A5/">ã€Œå¤§å‰ç«¯ã€è¯­å¥</a>
            
            
            <a class="next" rel="next" href="/2021/03/11/yuque/%E3%80%8C%E5%A4%A7%E5%89%8D%E7%AB%AF%E3%80%8D%E6%89%A7%E8%A1%8C%E4%B8%AD%E9%83%BD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/">ã€Œå¤§å‰ç«¯ã€æ‰§è¡Œä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆ</a>
            
        </section>
        
            <link rel="stylesheet" href="https://unpkg.com/gitalk@latest/dist/gitalk.css">
<div id="gitalk-container" style="margin-top: 50px;"></div>
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<script src="https://priesttomb.github.io/js/md5.min.js"></script>
<script type="text/javascript">
    new Gitalk({
        clientID: '',
        clientSecret: '',
        id: window.location.pathname,
        repo: 'httIsHere.github.io',
        owner: 'httishere',
        admin: 'httishere',
        id: md5(location.pathname),
        distractionFreeMode: true
    }).render('gitalk-container')
</script>
        

    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© httishere | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
