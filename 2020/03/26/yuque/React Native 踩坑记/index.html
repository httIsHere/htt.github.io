<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="referrer" content="no-referrer" />

    <meta name="author" content="httishere">





<title>React Native è¸©å‘è®° | HTTISHERE</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.2.0"></head>
<body>
    <div class="wrapper">
        <header>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-header header-logo">
        <a href="/">HTTISHERE&#39;s Blog</a>
      </div>
      <div class="menu navbar-right">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        
        <input id="switch_default" type="checkbox" class="switch_default" />
        <label for="switch_default" class="toggleBtn"></label>
        <a
          href="javascript:;"
          rel="sidebar"
          style="margin-left: 20px;"
          onclick="addFav();"
          >ğŸŒŸ Bookmark</a
        >
      </div>
    </div>
  </nav>

  
  <nav class="navbar-mobile" id="nav-mobile">
    <div class="container">
      <div class="navbar-header">
        <div>
          <a href="/">HTTISHERE&#39;s Blog</a
          ><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
        </div>
        <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
      </div>
      <div class="menu" id="mobile-menu">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        
      </div>
    </div>
  </nav>
</header>
<script>
  var mobileBtn = function f() {
    var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
    var mobileMenu = document.getElementById("mobile-menu");
    if (toggleMenu.classList.contains("active")) {
      toggleMenu.classList.remove("active");
      mobileMenu.classList.remove("active");
    } else {
      toggleMenu.classList.add("active");
      mobileMenu.classList.add("active");
    }
  };
  function addFav() {
    var title = document.title;
    var URL = document.URL;
    try {
      window.external.addFavorite(URL, title);
    } catch (e) {
      try {
        window.sidebar.addPanel(title, URL, "");
      } catch (e) {
        alert("ç”±äºæµè§ˆå™¨çš„å®‰å…¨è®¾ç½®\nå¯ä»¥ä½¿ç”¨Ctrl+Dæˆ–è€…Command+Dè¿›è¡Œæ‰‹åŠ¨æ”¶è—");
      }
    }
  }
</script>

        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">React Native è¸©å‘è®°</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">httishere</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">ä¸‰æœˆ 26, 2020&nbsp;&nbsp;14:35:22</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/React/">React</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h3 id="å†™åœ¨å‰å¤´ï¼ˆTaro-å†…ï¼‰"><a href="#å†™åœ¨å‰å¤´ï¼ˆTaro-å†…ï¼‰" class="headerlink" title="å†™åœ¨å‰å¤´ï¼ˆTaro å†…ï¼‰"></a><em>å†™åœ¨å‰å¤´ï¼ˆTaro å†…ï¼‰</em></h3><ul>
<li>æ–‡å­—è¦åŒ…åœ¨ <code>Text</code> ç»„ä»¶é‡Œé¢ï¼Œå¦åˆ™ä¸æ˜¾ç¤ºã€‚</li>
<li><code>position:fixed</code> React Native ä¸æ”¯æŒ</li>
<li>Animation å’Œ transform React Native åŠ¨ç”»ä¸æ”¯æŒ</li>
<li>React Native ä¸ H5/å°ç¨‹åº çš„ Flex å¸ƒå±€ç›¸å…³å±æ€§çš„é»˜è®¤å€¼æœ‰å·®å¼‚</li>
</ul>
<h3 id="RN-æ ·å¼ç›¸å…³é—®é¢˜"><a href="#RN-æ ·å¼ç›¸å…³é—®é¢˜" class="headerlink" title="RN æ ·å¼ç›¸å…³é—®é¢˜"></a><em>RN æ ·å¼ç›¸å…³é—®é¢˜</em></h3><h4 id="1-é€šé…é€‰æ‹©å™¨ä¼šè¢«å¿½ç•¥"><a href="#1-é€šé…é€‰æ‹©å™¨ä¼šè¢«å¿½ç•¥" class="headerlink" title="1. é€šé…é€‰æ‹©å™¨ä¼šè¢«å¿½ç•¥"></a>1. é€šé…é€‰æ‹©å™¨ä¼šè¢«å¿½ç•¥</h4><h4 id="2-background-size-æ ·å¼å±æ€§æ— æ•ˆ"><a href="#2-background-size-æ ·å¼å±æ€§æ— æ•ˆ" class="headerlink" title="2. background-size æ ·å¼å±æ€§æ— æ•ˆ"></a>2. background-size æ ·å¼å±æ€§æ— æ•ˆ</h4><h4 id="3-400-700ï¼Œnormal-æˆ–-bold-ä¹‹å¤–çš„-font-weight-å€¼åœ¨-Android-ä¸Šçš„-React-Native-ä¸­æ²¡æœ‰æ•ˆæœ"><a href="#3-400-700ï¼Œnormal-æˆ–-bold-ä¹‹å¤–çš„-font-weight-å€¼åœ¨-Android-ä¸Šçš„-React-Native-ä¸­æ²¡æœ‰æ•ˆæœ" class="headerlink" title="3. 400,700ï¼Œnormal æˆ– bold ä¹‹å¤–çš„ font-weight å€¼åœ¨ Android ä¸Šçš„ React Native ä¸­æ²¡æœ‰æ•ˆæœ"></a>3. 400,700ï¼Œnormal æˆ– bold ä¹‹å¤–çš„ font-weight å€¼åœ¨ Android ä¸Šçš„ React Native ä¸­æ²¡æœ‰æ•ˆæœ</h4><h4 id="4-è®¾ç½®èƒŒæ™¯å›¾ç‰‡"><a href="#4-è®¾ç½®èƒŒæ™¯å›¾ç‰‡" class="headerlink" title="4. è®¾ç½®èƒŒæ™¯å›¾ç‰‡"></a>4. è®¾ç½®èƒŒæ™¯å›¾ç‰‡</h4><p>React Native çš„ Background ä»…æ”¯æŒ backgroundColor å±æ€§ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®èƒŒæ™¯å›¾ç‰‡æ—¶éœ€è¦é‡‡ç”¨ ImageBackground ç»„ä»¶;</p>
<h4 id="5-RN-é˜´å½±æ ·å¼å±æ€§"><a href="#5-RN-é˜´å½±æ ·å¼å±æ€§" class="headerlink" title="5. RN é˜´å½±æ ·å¼å±æ€§"></a>5. RN é˜´å½±æ ·å¼å±æ€§</h4><p>å…¶ä»…æ”¯æŒ ios å¹³å°ï¼Œåœ¨ Android ä¸­éœ€è¦ä½¿ç”¨ elevation å±æ€§å®ç°ï¼Œä½† elevation ä»…æä¾›ä¸€ä¸ªç°è‰²é˜´å½±ã€‚<br>react-native-shadow è¿˜éœ€ç ”ç©¶ä¸€ä¸‹ã€‚mark</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">system_android ? (</span><br><span class="line">  &lt;BoxShadow</span><br><span class="line">    setting=&#123;&#123;</span><br><span class="line">      width: rpx2px(width),</span><br><span class="line">      height: rpx2px(height),</span><br><span class="line">      color: color,</span><br><span class="line">      border: rpx2px(border || <span class="number">0</span>) || <span class="number">2</span>,</span><br><span class="line">      radius: rpx2px(radius),</span><br><span class="line">      opacity: opacity,</span><br><span class="line">      x: rpx2px(offsetX),</span><br><span class="line">      y: rpx2px(offsetY),</span><br><span class="line">      style: &#123; <span class="attr">marginVertical</span>: <span class="number">0</span>, <span class="attr">justifyContent</span>: <span class="string">&quot;center&quot;</span> &#125;,</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;<span class="built_in">this</span>.props.children&#125;</span><br><span class="line">  &lt;/BoxShadow&gt;</span><br><span class="line">) : (</span><br><span class="line">  <span class="built_in">this</span>.props.children</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="6-box-sizing-ä¸æ”¯æŒ"><a href="#6-box-sizing-ä¸æ”¯æŒ" class="headerlink" title="6. box-sizing ä¸æ”¯æŒ"></a>6. box-sizing ä¸æ”¯æŒ</h4><h4 id="7-padding-å¤±æ•ˆé—®é¢˜"><a href="#7-padding-å¤±æ•ˆé—®é¢˜" class="headerlink" title="7. padding å¤±æ•ˆé—®é¢˜"></a>7. padding å¤±æ•ˆé—®é¢˜</h4><p>å°†æ–‡æœ¬å†…å®¹è®¾ç½®ä¸º<code>flex: 1;</code></p>
<h4 id="8-rn-çš„-flexBox-å¸ƒå±€é—®é¢˜"><a href="#8-rn-çš„-flexBox-å¸ƒå±€é—®é¢˜" class="headerlink" title="8. rn çš„ flexBox å¸ƒå±€é—®é¢˜"></a>8. rn çš„ flexBox å¸ƒå±€é—®é¢˜</h4><p>é»˜è®¤ flex-direction æ˜¯ columnã€‚</p>
<h4 id="9-ä¸æ”¯æŒä¼ªå…ƒç´ å†™æ³•"><a href="#9-ä¸æ”¯æŒä¼ªå…ƒç´ å†™æ³•" class="headerlink" title="9. ä¸æ”¯æŒä¼ªå…ƒç´ å†™æ³•"></a>9. ä¸æ”¯æŒä¼ªå…ƒç´ å†™æ³•</h4><h4 id="10-Failed-prop-type-Invalid-props-style-key-color-supplied-to-View"><a href="#10-Failed-prop-type-Invalid-props-style-key-color-supplied-to-View" class="headerlink" title="10. Failed prop type: Invalid props.style key color supplied to View"></a>10. Failed prop type: Invalid props.style key <code>color</code> supplied to <code>View</code></h4><p>åŒç†æœ‰ç±»ä¼¼çš„ Failed prop type: Invalid props.style key <code>fontSize</code> supplied to <code>View</code>ã€‚<br>ä¸èƒ½ç»™ View ç»„ä»¶æ·»åŠ  colorï¼ŒfontSize ç­‰æ–‡å­—æ ·å¼å±æ€§ï¼Œéœ€è¦æŒ‡å®š Text æ·»åŠ æ ·å¼å±æ€§ã€‚</p>
<h4 id="11-é¡µé¢å®ç°æ»‘åŠ¨éœ€è¦ä½¿ç”¨-ScrollView"><a href="#11-é¡µé¢å®ç°æ»‘åŠ¨éœ€è¦ä½¿ç”¨-ScrollView" class="headerlink" title="11. é¡µé¢å®ç°æ»‘åŠ¨éœ€è¦ä½¿ç”¨ ScrollView"></a>11. é¡µé¢å®ç°æ»‘åŠ¨éœ€è¦ä½¿ç”¨ ScrollView</h4><h4 id="12-input-è¾“å…¥æ¡†æœªæ˜¾ç¤ºå®Œå…¨"><a href="#12-input-è¾“å…¥æ¡†æœªæ˜¾ç¤ºå®Œå…¨" class="headerlink" title="12. input è¾“å…¥æ¡†æœªæ˜¾ç¤ºå®Œå…¨"></a>12. input è¾“å…¥æ¡†æœªæ˜¾ç¤ºå®Œå…¨</h4><p>Android è¾“å…¥æ¡†é»˜è®¤å¸¦æœ‰ä¸Šä¸‹å†…è¾¹è·ï¼Œæ‰€ä»¥éœ€è¦å°†ä¸Šä¸‹ padding è®¾ç½®ä¸º 0ã€‚</p>
<h3 id="ç¼–è¯‘é—®é¢˜"><a href="#ç¼–è¯‘é—®é¢˜" class="headerlink" title="ç¼–è¯‘é—®é¢˜"></a><em>ç¼–è¯‘é—®é¢˜</em></h3><h4 id="1-react-native-ç¼–è¯‘ä¹‹åæŠ¥é”™"><a href="#1-react-native-ç¼–è¯‘ä¹‹åæŠ¥é”™" class="headerlink" title="1. react-native ç¼–è¯‘ä¹‹åæŠ¥é”™"></a>1. react-native ç¼–è¯‘ä¹‹åæŠ¥é”™</h4><p>error: bundling failed: Error: Unable to resolve module <code>./components/calendar</code> from <code>E:\httishere\work\manual-box-wechat-app\node_modules\taro-ui\dist\weapp\index.js</code>: The module <code>./components/calendar</code> could not be found from <code>E:\httishere\work\manual-box-wechat-app\node_modules\taro-ui\dist\weapp\index.js</code>. Indeed, none of these files exist:<br>åŸå› ï¼štaro-ui ä¸æ”¯æŒ React Nativeã€‚</p>
<h4 id="2-Application-taroDemo-has-not-been-registered"><a href="#2-Application-taroDemo-has-not-been-registered" class="headerlink" title="2. Application taroDemo has not been registered."></a>2. Application taroDemo has not been registered.</h4><p>Hint: This error often happens when youâ€™re running the packager (local dev server) from a wrong folder. For example you have multiple apps and the packager is still running for the app you were working on before.<br>If this is the case, simply kill the old packager instance (e.g. close the packager terminal window) and start the packager in the correct app folder (e.g. cd into app folder and run â€˜npm startâ€™).<br>åŸå› ï¼šå­˜åœ¨é¡¹ç›®ç»ˆç«¯å†²çªï¼Œå…³é—­æ‰€æœ‰ç»ˆç«¯å¹¶é‡å¯ï¼ŒæŸ¥çœ‹é¡¹ç›®å†… config/index æ–‡ä»¶æ˜¯å¦æ³¨å†Œåº”ç”¨åã€‚<br>å› ä¸ºæˆ‘ç”¨äº† taro-native-shell è¿™ä¸ªå£³å­ï¼Œæ‰€ä»¥å‘½åä¸ºâ€™taroDemoâ€™ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/250093/1585289424201-8a2fbe69-63c3-4df2-b98b-eb7ecef1f74e.png#align=left&display=inline&height=121&id=a5pOl&margin=%5Bobject%20Object%5D&name=%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200327140918.png&originHeight=121&originWidth=423&size=4573&status=done&style=none&width=423" alt="å¾®ä¿¡å›¾ç‰‡_20200327140918.png"></p>
<h4 id="3-Unable-to-load-script-from-assets-â€˜index-android-bundleâ€™-Make-sure-your-bundle-is-packaged-correctly"><a href="#3-Unable-to-load-script-from-assets-â€˜index-android-bundleâ€™-Make-sure-your-bundle-is-packaged-correctly" class="headerlink" title="3. Unable to load script from assets â€˜index.android.bundleâ€™. Make sure your bundle is packaged correctly"></a>3. Unable to load script from assets â€˜index.android.bundleâ€™. Make sure your bundle is packaged correctly</h4><p>åœ¨ android/app/arc/main ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª assets æ–‡ä»¶ï¼Œåœ¨ IDE çš„ terminal ä»¥å‘½ä»¤å¯åŠ¨<code>react-native run-android</code>ã€‚</p>
<h4 id="4-è¿è¡Œ-react-native-start-æ—¶å‘ç°-8081-ç«¯å£è¢«å ç”¨é—®é¢˜"><a href="#4-è¿è¡Œ-react-native-start-æ—¶å‘ç°-8081-ç«¯å£è¢«å ç”¨é—®é¢˜" class="headerlink" title="4. è¿è¡Œ react-native start æ—¶å‘ç° 8081 ç«¯å£è¢«å ç”¨é—®é¢˜"></a>4. è¿è¡Œ react-native start æ—¶å‘ç° 8081 ç«¯å£è¢«å ç”¨é—®é¢˜</h4><p>æ‰¾åˆ°å ç”¨ 8081 çš„è¿›ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -aon |findstr <span class="string">&quot;8081&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2020/png/250093/1585469950756-fff03a59-91a5-411d-92db-5c69892bf6be.png#align=left&display=inline&height=76&id=tGxIx&margin=%5Bobject%20Object%5D&name=8081.png&originHeight=76&originWidth=588&size=4407&status=done&style=none&width=588" alt="8081.png"><br>ä½¿ç”¨ pid æ€æ­»å ç”¨ 8081 çš„è¿›ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">taskkill /pid xxx /F</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2020/png/250093/1585470017430-a9d85a9d-e255-44e1-bad7-80d67e630b2e.png#align=left&display=inline&height=69&id=DW2cw&margin=%5Bobject%20Object%5D&name=kill-by-pid.png&originHeight=69&originWidth=390&size=3185&status=done&style=none&width=390" alt="kill-by-pid.png"></p>
<h4 id="5-ReferenceError-ReferenceError-Canâ€™t-find-variable-Button-XXXX"><a href="#5-ReferenceError-ReferenceError-Canâ€™t-find-variable-Button-XXXX" class="headerlink" title="5. ReferenceError: ReferenceError: Canâ€™t find variable: Button(XXXX)"></a>5. ReferenceError: ReferenceError: Canâ€™t find variable: Button(XXXX)</h4><p>è§£å†³ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  Text,</span><br><span class="line">  View,</span><br><span class="line">  Button,</span><br><span class="line">  ...</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="6-undefined-is-not-a-function-evaluating-â€˜transform-forEachâ€™"><a href="#6-undefined-is-not-a-function-evaluating-â€˜transform-forEachâ€™" class="headerlink" title="6.Â undefined is not a function (evaluating â€˜transform.forEachâ€™)"></a>6.Â undefined is not a function (evaluating â€˜transform.forEachâ€™)</h4><p>Warning: Failed prop type: Invalid prop <code>transform</code> of type <code>string</code> supplied to <code>View</code>, expected an array.<br>transform å±æ€§è¯¦æƒ…éœ€è¦ä»¥ array çš„å½¢å¼ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/250093/1585476684072-2a4f20ce-a78f-4cc2-b9c3-6f732cff8464.png#align=left&display=inline&height=60&id=pKA4n&margin=%5Bobject%20Object%5D&name=style-transform-array.png&originHeight=60&originWidth=548&size=3017&status=done&style=none&width=548" alt="style-transform-array.png"></p>
<h4 id="7-Invariant-Violation-View-config-not-found-for-name-slot"><a href="#7-Invariant-Violation-View-config-not-found-for-name-slot" class="headerlink" title="7. Invariant Violation: View config not found for name slot"></a>7. Invariant Violation: View config not found for name slot</h4><p>return çš„å†…å®¹å†…ç»„ä»¶çš„é¦–å­—æ¯ä¸æ˜¯å¤§å†™ï¼Œæ‰€ä»¥éœ€è¦å°†ç»„ä»¶çš„é¦–å­—æ¯å†™æˆå¤§å†™å­—æ¯ã€‚</p>
<h4 id="8-Error-Cannot-add-a-child-that-doesnâ€™t-have-a-YogaNode-to-a-parent-without-a-measure-function"><a href="#8-Error-Cannot-add-a-child-that-doesnâ€™t-have-a-YogaNode-to-a-parent-without-a-measure-function" class="headerlink" title="8. Error: Cannot add a child that doesnâ€™t have a YogaNode to a parent without a measure function!"></a>8. Error: Cannot add a child that doesnâ€™t have a YogaNode to a parent without a measure function!</h4><p>åœ¨ render æ—¶ä¸å»ºè®®ä½¿ç”¨ä¸‹é¢è¿™ç§å†™æ³•ï¼Œå»ºè®®é‡‡ç”¨ä¸‰ç›®è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.state.amount &amp;&amp; (</span><br><span class="line">  &lt;View&gt;</span><br><span class="line">    &lt;Text&gt;hello world&lt;/Text&gt;</span><br><span class="line">  &lt;/View&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ¢æˆï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.state.amount ?</span><br><span class="line">       &lt;View&gt;</span><br><span class="line">         &lt;Text&gt;</span><br><span class="line">           hello world</span><br><span class="line">         &lt;/Text&gt;</span><br><span class="line">       &lt;/View&gt; : <span class="literal">null</span></span><br><span class="line">  );</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸è¦æœ‰å•ç‹¬çš„å­—ç¬¦ä¸²æš´éœ²ï¼Œåº”ä½¿ç”¨ Text è¿›è¡ŒåŒ…è£¹ã€‚</p>
<h4 id="9-TypeError-undefined-is-not-an-object-evaluating-â€˜course-posters-bannerâ€™"><a href="#9-TypeError-undefined-is-not-an-object-evaluating-â€˜course-posters-bannerâ€™" class="headerlink" title="9. TypeError: undefined is not an object (evaluating â€˜course.posters.bannerâ€™)"></a>9. TypeError: undefined is not an object (evaluating â€˜course.posters.bannerâ€™)</h4><p>éœ€è¦å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–æˆ–è€…å€¼åˆ¤æ–­ã€‚</p>
<h4 id="10-Error-while-updating-property-â€˜heightâ€™-in-shadow-node-of-type-RCTView"><a href="#10-Error-while-updating-property-â€˜heightâ€™-in-shadow-node-of-type-RCTView" class="headerlink" title="10. Error while updating property â€˜heightâ€™ in shadow node of type: RCTView"></a>10. Error while updating property â€˜heightâ€™ in shadow node of type: RCTView</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/250093/1585535630906-8a344136-4f69-4d1b-9c6d-7454438b8c12.png#align=left&display=inline&height=169&id=UyurW&margin=%5Bobject%20Object%5D&name=height-value-type.png&originHeight=169&originWidth=463&size=64259&status=done&style=none&width=463" alt="height-value-type.png"><br>åœ¨ reactNative å†™æ ·å¼çš„æ—¶å€™ Â  å®½ã€é«˜ã€padding ç­‰å€¼ä¸èƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<h4 id="11-Failed-prop-type-Invalid-props-style-key-transform-origin-supplied-to-â€˜Imageâ€™"><a href="#11-Failed-prop-type-Invalid-props-style-key-transform-origin-supplied-to-â€˜Imageâ€™" class="headerlink" title="11. Failed prop type: Invalid props.style key transform-origin supplied to â€˜Imageâ€™"></a>11. Failed prop type: Invalid props.style key <code>transform-origin</code> supplied to â€˜Imageâ€™</h4><h4 id="12-Error-while-updating-property-â€˜transformâ€™-of-a-view-managed-by-RCTImageView"><a href="#12-Error-while-updating-property-â€˜transformâ€™-of-a-view-managed-by-RCTImageView" class="headerlink" title="12. Error while updating property â€˜transformâ€™ of a view managed by: RCTImageView"></a>12. Error while updating property â€˜transformâ€™ of a view managed by: RCTImageView</h4><p>å› ä¸ºæˆ‘çš„ transform å†…æœ‰ rotate çš„æ“ä½œï¼Œæˆ‘åŸæ¥æ˜¯ç›´æ¥è®¾ç½®<code>rotate: rotateValue+&#39;deg&#39;</code>ï¼Œä½†æ˜¯å‘ç°ä¼šå‡ºç°ä¸Šè¿°æŠ¥é”™ï¼Œåæ¥çœ‹äº†ç›¸å…³é—®é¢˜éœ€è¦é€šè¿‡æ’å€¼å™¨çš„æ–¹æ³•å°† int è½¬æ¢æˆä»–éœ€è¦çš„ degã€‚<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e131375eb8c4">React Native loading æ—‹è½¬åŠ¨ç”»çš„å®ç°</a></p>
<h4 id="13-has-been-blocked-by-CORS-policy"><a href="#13-has-been-blocked-by-CORS-policy" class="headerlink" title="13. has been blocked by CORS policy"></a>13. has been blocked by CORS policy</h4><p>Access to fetch at â€˜<a target="_blank" rel="noopener" href="http://localhost:8081/rn_temp/index.delta?platform=android&amp;dev=true&amp;minify=false&#39;">http://localhost:8081/rn_temp/index.delta?platform=android&amp;dev=true&amp;minify=false&#39;</a> from origin â€˜<a href="http://127.0.0.1:8081&#39;">http://127.0.0.1:8081&#39;</a> has been blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. If an opaque response serves your needs, set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled.<br>è®¿é—®çš„åŸŸåä¸åŒå¯¼è‡´, æµè§ˆå™¨åœ°å€æ ä¸º 127.0.0.1:8081/debugger-ui/, çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨è®¿é—®çš„åœ°å€ä¸º<a target="_blank" rel="noopener" href="http://localhost:8081/rn_temp/index.bundle?platform=android&amp;dev=true%E3%80%82">http://localhost:8081/rn_temp/index.bundle?platform=android&amp;dev=trueã€‚</a></p>
<h4 id="14-React-createElement-type-is-invalid"><a href="#14-React-createElement-type-is-invalid" class="headerlink" title="14. Â React.createElement: type is invalid"></a>14. Â React.createElement: type is invalid</h4><p>React.createElement: type is invalid â€“ expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file itâ€™s defined in, or you might have mixed up default and named imports.<br>å¯èƒ½æ˜¯å¼•å…¥å­ç»„ä»¶æ—¶å‡ºç°é—®é¢˜ï¼Œæˆ‘åŸæ¥å­ç»„ä»¶å†… export ç»„ä»¶ä¸º</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneCode</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"><span class="comment">// è°ƒæ•´ä¸º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneCode</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br></pre></td></tr></table></figure>

<h4 id="15-Element-type-is-invalid-expected-a-string-for-built-in-components-or-a-class-function-for-composite-components-but-got-undefined-You-likely-forgot-to-export-your-component-from-the-file-itâ€™s-defined-in-or-you-might-have-mixed-up-default-and-named-imports"><a href="#15-Element-type-is-invalid-expected-a-string-for-built-in-components-or-a-class-function-for-composite-components-but-got-undefined-You-likely-forgot-to-export-your-component-from-the-file-itâ€™s-defined-in-or-you-might-have-mixed-up-default-and-named-imports" class="headerlink" title="15. Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file itâ€™s defined in, or you might have mixed up default and named imports."></a>15. Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file itâ€™s defined in, or you might have mixed up default and named imports.</h4><p>å­˜åœ¨æ— æ•ˆå…ƒç´ ï¼Œå¯ä»¥æ˜¯å¼•å…¥çš„ç»„ä»¶æˆ–å·¥å…·è·¯å¾„é”™è¯¯ç­‰ã€‚</p>
<h4 id="16-Object-freeze-can-only-be-called-on-Objects"><a href="#16-Object-freeze-can-only-be-called-on-Objects" class="headerlink" title="16. Object.freeze can only be called on Objects"></a>16. Object.freeze can only be called on Objects</h4><p>åŒ Q2ã€‚</p>
<h3 id="Taro-Api-React-Native-æ”¯æŒåº¦"><a href="#Taro-Api-React-Native-æ”¯æŒåº¦" class="headerlink" title="Taro Api React Native æ”¯æŒåº¦"></a><em>Taro Api React Native æ”¯æŒåº¦</em></h3><h4 id="1-ä¸æ”¯æŒ-Taro-addInterceptor"><a href="#1-ä¸æ”¯æŒ-Taro-addInterceptor" class="headerlink" title="1. ä¸æ”¯æŒ Taro.addInterceptor"></a>1. ä¸æ”¯æŒ Taro.addInterceptor</h4><h4 id="2-React-Native-æš‚ä¸æ”¯æŒ-storage-çš„åŒæ­¥å­˜å–ï¼ˆTaro-get-set-StorageSyncï¼‰"><a href="#2-React-Native-æš‚ä¸æ”¯æŒ-storage-çš„åŒæ­¥å­˜å–ï¼ˆTaro-get-set-StorageSyncï¼‰" class="headerlink" title="2. React Native æš‚ä¸æ”¯æŒ storage çš„åŒæ­¥å­˜å–ï¼ˆTaro.(get/set)StorageSyncï¼‰"></a>2. React Native æš‚ä¸æ”¯æŒ storage çš„åŒæ­¥å­˜å–ï¼ˆTaro.(get/set)StorageSyncï¼‰</h4><p>æ‰€ä»¥éœ€è¦ä½¿ç”¨ async / await + Taro.(get/set)Storage å®ç°ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦æ·»åŠ ç¯å¢ƒåˆ¤æ–­ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regeneratorRuntime is not defined</span><br></pre></td></tr></table></figure>

<p>è§£å†³:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add @tarojs/async-await</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ npm</span></span><br><span class="line">$ npm install --save @tarojs/async-await</span><br></pre></td></tr></table></figure>

<p>åœ¨æœ‰å¼‚æ­¥æ“ä½œçš„ é¡µé¢å†…å¼•å…¥ importÂ â€˜@tarojs/async-awaitâ€™ã€‚<br>å¼€å¯ async functions æ”¯æŒéœ€è¦å®‰è£…åŒ… <code>babel-plugin-transform-runtime</code> å’Œ<code>babel-runtime</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add babel-plugin-transform-runtime --dev</span><br><span class="line">$ yarn add babel-runtime</span><br></pre></td></tr></table></figure>

<p>éšåä¿®æ”¹é¡¹ç›® <code>[babel](https://nervjs.github.io/taro/docs/config-detail.html#babel)</code><a target="_blank" rel="noopener" href="https://nervjs.github.io/taro/docs/config-detail.html#babel"> é…ç½®</a>ï¼Œå¢åŠ æ’ä»¶ <code>babel-plugin-transform-runtime</code>ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">babel: &#123;</span><br><span class="line">  sourceMap: true,</span><br><span class="line">  presets: [</span><br><span class="line">    [</span><br><span class="line">      &#x27;env&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        modules: false</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    &#x27;transform-decorators-legacy&#x27;,</span><br><span class="line">    &#x27;transform-class-properties&#x27;,</span><br><span class="line">    &#x27;transform-object-rest-spread&#x27;,</span><br><span class="line">    [&#x27;transform-runtime&#x27;, &#123;</span><br><span class="line">      <span class="attr">&quot;helpers&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;polyfill&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;regenerator&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;moduleName&quot;</span>: &#x27;babel-runtime&#x27;</span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™ä¸€ä¸ªç›¸å…³çš„å­˜å–äº‹ä»¶ï¼Œåœ¨éœ€è¦æ—¶ async/await è¿›è¡Œå­˜å–ã€‚</p>
<h3 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a><em>å…¶ä»–é—®é¢˜</em></h3><h4 id="1-çœŸæœºå†…é¡µé¢æ— æ³•æœ‰æ•ˆä¸Šæ»‘"><a href="#1-çœŸæœºå†…é¡µé¢æ— æ³•æœ‰æ•ˆä¸Šæ»‘" class="headerlink" title="1. çœŸæœºå†…é¡µé¢æ— æ³•æœ‰æ•ˆä¸Šæ»‘"></a>1. çœŸæœºå†…é¡µé¢æ— æ³•æœ‰æ•ˆä¸Šæ»‘</h4>
        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>httishere</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://httishere.github.io/2020/03/26/yuque/React%20Native%20%E8%B8%A9%E5%9D%91%E8%AE%B0/">https://httishere.github.io/2020/03/26/yuque/React%20Native%20%E8%B8%A9%E5%9D%91%E8%AE%B0/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2021 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/React-Native/"># React Native</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/03/27/yuque/no%20such%20file%20or%20directory,%20scandir%20'...!node_modules!node-sass!vendor/">no such file or directory, scandir &#39;...\node_modules\node-sass\vendor</a>
            
            
            <a class="next" rel="next" href="/2020/03/26/yuque/%E3%80%8Cgit%E3%80%8Dbad%20signature%20fatal%20index%20file%20corrupt/">ã€Œgitã€bad signature fatal index file corrupt</a>
            
        </section>
        
            <link rel="stylesheet" href="https://unpkg.com/gitalk@latest/dist/gitalk.css">
<div id="gitalk-container" style="margin-top: 50px;"></div>
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<script src="https://priesttomb.github.io/js/md5.min.js"></script>
<script type="text/javascript">
    new Gitalk({
        clientID: '',
        clientSecret: '',
        id: window.location.pathname,
        repo: 'httIsHere.github.io',
        owner: 'httishere',
        admin: 'httishere',
        id: md5(location.pathname),
        distractionFreeMode: true
    }).render('gitalk-container')
</script>
        

    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© httishere | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
